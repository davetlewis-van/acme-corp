(function(){const staticCacheName='static';const version='v1::';const OFFLINE_URL='https://davetlewis-van.github.io/off/';const urls=['https://davetlewis-van.github.io/','https://davetlewis-van.github.io/manifest.json','https://davetlewis-van.github.io/acme-corp/css/index.min.2c918101d1f2367b67361ae6dd41dc731d0e3a3d157a472ef9151de3b9ddd73ca4a1fc552444b5d812c4c016aa6f3bc6c28bcf12a7c37f541d582adc88453f17.css','https://davetlewis-van.github.io/acme-corp/index.min.fc386dae907f9b7c0a59a0db4fa8725f7095c7d0c0344480e456216eb4d8d71f3ca1b1d09a0829d75b150ad4341cde2d7deb53680a286fcde723f53ce3eb5855.js','https://davetlewis-van.github.io/acme-corp/image/background_hu5fa5007403ed47f8e70c21b28ee4cec6_92766_1400x787_fill_q75_box_smart1.jpg','https://davetlewis-van.github.io/acme-corp/image/background-dark_huacd336bfb7f5597695f9c32d4115a2aa_1561823_1400x787_fill_q75_box_smart1.jpg',OFFLINE_URL,'https://davetlewis-van.github.io/index.json'];return caches.open(version+staticCacheName).then((cache)=>cache.addAll(urls)).catch(e=>{console.log("Error = ",e);console.log(e.stack);});}
self.addEventListener('install',(event)=>event.waitUntil(updateStaticCache()));self.addEventListener('activate',function(event){event.waitUntil(caches.keys().then(function(keys){return Promise.all(keys.filter((key)=>key.indexOf(version)!==0).map((key)=>caches.delete(key)));}));});function offline(){return caches.match(OFFLINE_URL).then(x=>x.text()).then(y=>new Response(y,{"status":200,headers:{'Content-Type':'text/html'}}));}
self.addEventListener('fetch',function(event){const request=event.request;if(request.method!=='GET'){return event.respondWith(fetch(request).catch(offline));}
if(request.headers.get('Accept').indexOf('text/html')!==-1){event.respondWith(fetch(request).then(function(response){const copy=response.clone();caches.open(version+staticCacheName).then(function(cache){cache.put(request,copy);});return response;}).catch(function(){return caches.match(request).then(function(response){return response||offline()})}));return;}
event.respondWith(caches.match(request).then(function(response){return response||fetch(request).catch(function(){if(request.url.match(/\.(jpe?g|png|gif|svg)$/)){return new Response('<svg role="img" aria-labelledby="offline-title" viewBox="0 0 400 225" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice"><title id="offline-title">Offline</title><path fill="rgba(145,145,145,0.5)" d="M0 0h400v225H0z" /><text fill="rgba(0,0,0,0.33)" font-family="Helvetica Neue,Arial,sans-serif" font-size="27" text-anchor="middle" x="200" y="113" dominant-baseline="central">Offline</text></svg>',{headers:{'Content-Type':'image/svg+xml'}});}
return new Response('');});}));});})();